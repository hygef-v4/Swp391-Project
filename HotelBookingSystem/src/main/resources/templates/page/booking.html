<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:inline="text" lang="en">

<!-- Mirrored from stackbros.in/bookinga/landing/hotel-booking.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 20 May 2025 16:06:47 GMT -->
<head>
	<title>Đặt phòng</title>

	<!-- Meta Tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="author" content="StackBros">
	<meta name="description" content="Booking">

    <style>
        /* Xoay mũi tên khi collapse đóng */
        .card-header[aria-expanded="false"] .toggle-arrow {
            transform: rotate(180deg);
            transition: transform 0.3s;
        }
        /* Bình thường */
        .toggle-arrow {
            transition: transform 0.3s;
        }
    </style>

	<!-- Dark mode -->
	<script>
		const storedTheme = localStorage.getItem('theme')

		const getPreferredTheme = () => {
			if (storedTheme) {
				return storedTheme
			}
			return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light'
		}

		const setTheme = function (theme) {
			if (theme === 'auto' && window.matchMedia('(prefers-color-scheme: dark)').matches) {
				document.documentElement.setAttribute('data-bs-theme', 'dark')
			} else {
				document.documentElement.setAttribute('data-bs-theme', theme)
			}
		}

		setTheme(getPreferredTheme())

		window.addEventListener('DOMContentLoaded', () => {
		    var el = document.querySelector('.theme-icon-active');
			if(el != 'undefined' && el != null) {
				const showActiveTheme = theme => {
				const activeThemeIcon = document.querySelector('.theme-icon-active use')
				const btnToActive = document.querySelector(`[data-bs-theme-value="${theme}"]`)
				const svgOfActiveBtn = btnToActive.querySelector('.mode-switch use').getAttribute('href')

				document.querySelectorAll('[data-bs-theme-value]').forEach(element => {
					element.classList.remove('active')
				})

				btnToActive.classList.add('active')
				activeThemeIcon.setAttribute('href', svgOfActiveBtn)
			}

			window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', () => {
				if (storedTheme !== 'light' || storedTheme !== 'dark') {
					setTheme(getPreferredTheme())
				}
			})

			showActiveTheme(getPreferredTheme())

			document.querySelectorAll('[data-bs-theme-value]')
				.forEach(toggle => {
					toggle.addEventListener('click', () => {
						const theme = toggle.getAttribute('data-bs-theme-value')
						localStorage.setItem('theme', theme)
						setTheme(theme)
						showActiveTheme(theme)
					})
				})

			}
		})
	</script>

	<script>
        document.addEventListener("DOMContentLoaded", function(){
            const items = document.querySelectorAll(".room-description li");
            items.forEach(li => {
                li.classList.add("list-group-item", "h6", "fw-light", "d-flex", "mb-0");

                const icon = document.createElement("i");
                icon.className = "fa-solid fa-check-circle text-success me-2";
                li.insertBefore(icon, li.firstChild);
            })
        });
	</script>

    <script>
        // Khai báo trước ở phạm vi global
        let total, discount, paid;
        let totalPrice, totalDiscount, paidPrice;
        let paidInput, payButton;

        // Khi DOM load xong thì gán giá trị
        window.addEventListener("DOMContentLoaded", function () {
            totalPrice = document.getElementById('totalPrice');
            totalDiscount = document.getElementById('totalDiscount');
            paidPrice = document.getElementById('paidPrice');

            total = parseInt(totalPrice.textContent.replace(/[^\d]/g, "")) || 0;
            discount = parseInt(totalDiscount.textContent.replace(/[^\d]/g, "")) || 0;
            paid = parseInt(paidPrice.textContent.replace(/[^\d]/g, "")) || 0;

            paidInput = document.getElementById('paidInput');
            payButton = document.getElementById('payButton');

            const params = new URLSearchParams(window.location.search);
            const roomId = params.get("roomId");
            const amount = params.get("amount");

            if(roomId){
                const room = document.getElementById('booked' + roomId);

                if(room.querySelector(".bookedQuantity").max > 0){
                    room.querySelector(".bookedQuantity").value = amount;
                    booking(roomId, false);
                }else{
                    alert("Đã hết phòng, vui lòng chọn phòng khác");
                }
            }
            
            const hotelId = document.getElementById('hotelId').value;
            const cookie = document.cookie.match(new RegExp("(^| )booking" + hotelId + "=([^;]+)"));
            if(cookie && cookie[2]){
                const bookingData = JSON.parse(decodeURIComponent(cookie[2]));
                bookingData.forEach(item => {
                    const id = item.roomId;
                    const quantity = item.quantity;
                    const room = document.getElementById('booked' + id);

                    if(id != roomId){
                        if(room.querySelector(".bookedQuantity").max > 0){
                            room.querySelector(".bookedQuantity").value = quantity;
                            booking(id, false);
                        }else{
                            alert("Đã hết phòng, vui lòng chọn phòng khác");
                        }
                    }
                });
            }
        });

        function updatePaid(t, d){
            total = t;
            discount = d;
            paid = total - discount;

            // Cập nhật giá trị hiển thị
            totalPrice.textContent = total.toLocaleString();
            totalDiscount.textContent = discount.toLocaleString();

            paidPrice.textContent = paid.toLocaleString();
            paidInput.value = paid;

            if(paid){
                payButton.disabled = false;
            }else{
                payButton.disabled = true;
            }
        }

        function addTotalPrice(id){
            const bookedRoom = document.getElementById('booked' + id);
            
            // Get title
            const title = bookedRoom.querySelector(".bookedTitle").textContent.trim();

            // Get price
            const priceText = bookedRoom.querySelector(".bookedPrice").textContent.trim();
            const price = parseInt(priceText.replace(/[^\d]/g, ""));

            // Get quantity
            const quantityText = bookedRoom.querySelector(".bookedQuantity").value;
            const quantity = parseInt(quantityText, 10);

            // Cập nhật tổng giá
            let i = total + (price * quantity);
            updatePaid(i, discount);

            // Thêm vào list-group hiển thị
            const ul = document.getElementById("booking-info");
            if (ul) {
                ul.innerHTML += `
                <div id=${'price' + id}>
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        <input type="hidden" name="roomId" value="${id}">
                        <h6 class="ellipsis">${title}</h6>
                        <a class="mb-0" onclick="less(${id})" title="Xóa" style="cursor: pointer;"><i class="bi bi-x-circle"></i></a>  
                        <input type="hidden" name="roomName" value="${title}">
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        <span class="h6 fw-light mb-0">Giá Phòng</span>
                        <span class="fs-5 priceText">${price.toLocaleString()}₫</span>
                        <input type="hidden" name="price" value="${price}">
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        <span class="h6 fw-light mb-0">Số Lượng</span>
                        <span class="fs-5 quantityText">${quantity}</span>
                        <input class="quantityInput" type="hidden" name="quantity" value="${quantity}">
                    </li>
                    <hr>
                </div>
                `;
            }
        }

        function removeTotalPrice(id){
            const bookedRoom = document.getElementById('booked' + id);

            // Get price
            const priceText = bookedRoom.querySelector(".bookedPrice").textContent.trim();
            const price = parseInt(priceText.replace(/[^\d]/g, ""));

            // Get quantity
            const quantityText = bookedRoom.querySelector(".bookedQuantity").value;
            const quantity = parseInt(quantityText, 10);

            // Cập nhật tổng giá
            let i = total - (price * quantity);
            updatePaid(i, discount);

            // Xoá phần tử div theo id
            const ul = document.getElementById("booking-info");
            if (ul) {
                const div = ul.querySelector("#price" + id);
                if (div) {
                    ul.removeChild(div);
                }
            }
        }

        function setQuantity(id){
            const priceRoom = document.getElementById('price' + id);

            const priceText = priceRoom.querySelector(".priceText").textContent.trim();
            const price = parseInt(priceText.replace(/[^\d]/g, ""));

            const quantityText = priceRoom.querySelector(".quantityText").textContent.trim();
            const quantity = parseInt(quantityText, 10);

            const bookedRoom = document.getElementById('booked' + id);

            const bookedPriceText = bookedRoom.querySelector(".bookedPrice").textContent.trim();
            const bookedPrice = parseInt(bookedPriceText.replace(/[^\d]/g, ""));

            const bookedQuantityText = bookedRoom.querySelector(".bookedQuantity").value;
            const bookedQuantity = parseInt(bookedQuantityText, 10);

            if(!bookedQuantity|| bookedQuantity < bookedRoom.querySelector(".bookedQuantity").min || bookedQuantity > bookedRoom.querySelector(".bookedQuantity").max){
                bookedRoom.querySelector(".bookedQuantity").value = quantity;
            }else{
                priceRoom.querySelector(".quantityText").textContent = bookedQuantity;
                priceRoom.querySelector(".quantityInput").value = bookedQuantity;

                oldPrice = total - (price * quantity);
                newPrice = oldPrice + (bookedPrice * bookedQuantity);
                updatePaid(newPrice, discount);
            }
        }
    </script>

    <script>
        function scrollToId(id){
            const e = document.getElementById(id);
            if(e) e.scrollIntoView({behavior: 'smooth'});
        }
    </script>

    <script>
        function booking(id, scroll = true){
            const bookedContent = document.getElementById('bookedContent').firstElementChild;
            const bookedRoom = document.getElementById('booked' + id);
            const moreRoom = document.getElementById('more' + id);

            if(!bookedRoom || !moreRoom){
                alert("Đã hết phòng, vui lòng chọn phòng khác");
                return;
            }

            bookedContent.removeChild(bookedRoom);
            bookedContent.appendChild(bookedRoom);

            bookedRoom.classList.remove('hidden');
            moreRoom.classList.add('hidden');

            addTotalPrice(id);
            if(scroll) scrollToId('booked' + id);
        }

        function less(id){
            const bookedRoom = document.getElementById('booked' + id);
            const moreRoom = document.getElementById('more' + id);

            bookedRoom.classList.add('hidden');
            moreRoom.classList.remove('hidden');

            removeTotalPrice(id);
        }
    </script>

    <script>
        document.addEventListener("DOMContentLoaded", function() {

        })
    </script>

	<!-- Favicon -->
	<link rel="shortcut icon" href="/assets/images/favicon.ico">

	<!-- Google Font -->
	<link rel="preconnect" href="https://fonts.googleapis.com/">
	<link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>
	<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&amp;family=Poppins:wght@400;500;700&amp;display=swap">

	<!-- Plugins CSS -->
	<link rel="stylesheet" type="text/css" href="/assets/vendor/font-awesome/css/all.min.css">
	<link rel="stylesheet" type="text/css" href="/assets/vendor/bootstrap-icons/bootstrap-icons.css">
    <link rel="stylesheet" type="text/css" href="/assets/vendor/tiny-slider/tiny-slider.css">
	<link rel="stylesheet" type="text/css" href="/assets/vendor/choices/css/choices.min.css">

	<!-- Theme CSS -->
	<link rel="stylesheet" type="text/css" href="/assets/css/style.css">

</head>

<body>

<!-- Header START -->
<div th:replace="~{common/header :: header}"></div>
<!-- Header END -->

<!-- **************** MAIN CONTENT START **************** -->
<main>

<!-- =======================
Page banner START -->
<section class="py-0">
	<div class="container">
		<!-- Card START -->
		<div class="card bg-light overflow-hidden px-sm-5">
			<div class="row align-items-center g-4">

				<!-- Content -->
				<div class="col-sm-9">
					<div class="card-body">
						<!-- Title -->
                        <a th:href="'/hotel-detail?hotelId=' + ${hotel.hotelId} + '&dateRange=' + ${dateRange} + '&guest=' + ${guests} + '&rooms=' + ${roomQuantity}"><h5 style="color: rgba(var(--bs-link-color-rgb), var(--bs-link-opacity, 1))"><i class="bi bi-arrow-left"></i> Quay lại</h5></a>
						<h1 class="m-0 h2 card-title">Đặt Phòng</h1>
					</div>
				</div>

				<!-- Image -->
				<div class="col-sm-3 text-end d-none d-sm-block">
					<img src="/assets/images/element/17.svg" class="mb-n4" alt="">
				</div>
			</div>
		</div>
		<!-- Card END -->
	</div>
</section>
<!-- =======================
Page banner END -->

<!-- =======================
Page content START -->
<section>
	<div class="container">
		<div class="row g-4 g-lg-5">	

			<!-- Left side content START -->
			<div class="col-xl-8">
				<div class="vstack gap-5">
<!--					&lt;!&ndash; Guest detail START &ndash;&gt;-->
<!--					<div class="card shadow">-->
<!--						&lt;!&ndash; Card header &ndash;&gt;-->
<!--						<div class="card-header border-bottom p-4">-->
<!--							<h4 class="card-title mb-0"><i class="bi bi-people-fill me-2"></i>Guest Details</h4>-->
<!--						</div>-->
<!--							-->
<!--						&lt;!&ndash; Card body START &ndash;&gt;-->
<!--						<div class="card-body p-4">-->
<!--							&lt;!&ndash; Form START &ndash;&gt;-->
<!--							<form class="row g-4">-->
<!--								&lt;!&ndash; Input &ndash;&gt;-->
<!--								<div class="col-md-4">-->
<!--									<label class="form-label">Name</label>-->
<!--									<input type="text" class="form-control form-control-lg" placeholder="Enter your name" th:value="${user.fullName}" required>-->
<!--								</div>-->

<!--								<div class="col-md-4">-->
<!--									<label class="form-label">Date of Birth</label>-->
<!--									<input type="date" class="form-control form-control-lg" placeholder="Enter your date of birth" th:value="${user.dob != null ? user.dob.toLocalDate() : ''}" required>-->
<!--								</div>                                -->

<!--                                &lt;!&ndash; Select &ndash;&gt;-->
<!--								<div class="col-md-4">-->
<!--									<div class="form-size-lg">-->
<!--										<label class="form-label">Gender</label>-->
<!--										<select class="form-select js-choice">-->
<!--											<option th:selected="${user.gender != null && user.gender.toLowerCase() == 'male'}">Male</option>-->
<!--											<option th:selected="${user.gender != null && user.gender.toLowerCase() == 'female'}">Female</option>-->
<!--                                            <option th:selected="${user.gender != null && user.gender.toLowerCase() == 'other'}">Other</option>-->
<!--										</select>-->
<!--									</div>	-->
<!--								</div>-->

<!--								&lt;!&ndash; Input &ndash;&gt;-->
<!--								<div class="col-md-6">-->
<!--									<label class="form-label">Email id</label>-->
<!--									<input type="email" class="form-control form-control-lg" placeholder="Enter your email" th:value="${user.email}" required>-->
<!--								</div>-->

<!--								&lt;!&ndash; Input &ndash;&gt;-->
<!--								<div class="col-md-6">-->
<!--									<label class="form-label">Mobile number</label>-->
<!--									<input type="text" class="form-control form-control-lg" placeholder="Enter your mobile number" th:value="${user.phone}">-->
<!--								</div>-->
<!--							</form>-->
<!--							&lt;!&ndash; Form END &ndash;&gt;-->
<!--						</div>-->
<!--						&lt;!&ndash; Card body END &ndash;&gt;-->
<!--					</div>-->
<!--					&lt;!&ndash; Guest detail END &ndash;&gt;-->

					<!-- Hotel information START -->
					<div class="card shadow" id="hotel">
						<!-- Card header -->
						<div class="card-header p-4 border-bottom">
							<!-- Title -->
							<h3 class="mb-0"><i class="fa-solid fa-hotel me-2"></i>Thông tin khách sạn</h3>
						</div>

						<!-- Card body START -->
						<div class="card-body p-4">
							<!-- Card list START -->
							<div class="card mb-4">
								<div class="row align-items-center">
									<!-- Image -->
									<div class="col-sm-6 col-md-3">
										<img th:src="${hotel.hotelImageUrl}" class="card-img" th:alt="${hotel.hotelName}">
									</div>

									<!-- Card Body -->
									<div class="col-sm-6 col-md-9">
										<div class="card-body pt-3 pt-sm-0 p-0">
											<!-- Title -->
											<h5 class="card-title"><a th:text="${hotel.hotelName}"></a></h5>

                                            <a onclick="initMap()" class="small ms-2 mb-2 text-decoration-underline" style="cursor: pointer;" data-bs-toggle="modal" data-bs-target="#mapmodal">
                                                <i class="bi bi-geo-alt me-2"></i><span th:text="${hotel.address + ', ' + hotel.cityName}"></span>
                                            </a>

											<!-- Rating star -->
											<ul class="list-inline mb-0">
												<li class="list-inline-item ms-2 h6 small fw-bold mb-0" th:text="${hotel.rating}"></li>
                                                <li class="list-inline-item me-0"><i th:class="(${hotel.rating <= 0.2} ? 'fa-regular fa-star' : (${hotel.rating >= 0.8} ? 'fa-solid fa-star' : 'fa-solid fa-star-half-alt')) + ' text-warning'"></i></li>
                                                <li class="list-inline-item me-0"><i th:class="(${hotel.rating <= 1.2} ? 'fa-regular fa-star' : (${hotel.rating >= 1.8} ? 'fa-solid fa-star' : 'fa-solid fa-star-half-alt')) + ' text-warning'"></i></li>
                                                <li class="list-inline-item me-0"><i th:class="(${hotel.rating <= 2.2} ? 'fa-regular fa-star' : (${hotel.rating >= 2.8} ? 'fa-solid fa-star' : 'fa-solid fa-star-half-alt')) + ' text-warning'"></i></li>
                                                <li class="list-inline-item me-0"><i th:class="(${hotel.rating <= 3.2} ? 'fa-regular fa-star' : (${hotel.rating >= 3.8} ? 'fa-solid fa-star' : 'fa-solid fa-star-half-alt')) + ' text-warning'"></i></li>
                                                <li class="list-inline-item me-0"><i th:class="(${hotel.rating <= 4.2} ? 'fa-regular fa-star' : (${hotel.rating >= 4.8} ? 'fa-solid fa-star' : 'fa-solid fa-star-half-alt')) + ' text-warning'"></i></li>
											</ul>
										</div>
									</div>

								</div>
							</div>
							<!-- Card list END -->
							
							<!-- Information START -->
							<div class="row g-4">
								<!-- Item -->
								<div class="col-lg-6">
									<div class="bg-light py-3 px-4 rounded-3">
										<h6 class="fw-light small mb-1">Ngày nhận phòng</h6>
										<input type="date" th:value="${checkIn}" class="form-control border-0 bg-transparent p-0 fw-semibold fs-5 mb-1" style="box-shadow: none;" id="checkin" readonly>
									</div>
								</div>
                                
								<!-- Item -->
								<div class="col-lg-6">
									<div class="bg-light py-3 px-4 rounded-3">
										<h6 class="fw-light small mb-1">Ngày trả Phòng</h6>
										<input type="date" th:value="${checkOut}" class="form-control border-0 bg-transparent p-0 fw-semibold fs-5 mb-1" style="box-shadow: none;" id="checkout" readonly>
									</div>
								</div>
							</div>
							<!-- Information END -->

							<!-- Card START -->
							<div class="card border mt-4">
								<!-- Card header -->
								<div class="card-header border-bottom d-md-flex justify-content-md-between align-items-center" data-bs-toggle="collapse" data-bs-target="#bookedContent" style="cursor: pointer;">
									<h5 class="card-title mb-0">Phòng được chọn</h5>
                                    <i class="bi bi-chevron-down toggle-arrow"></i>
								</div>

								<!-- Card body -->
                                <div class="card-body collapse show" id="bookedContent">
                                    <div class="vstack gap-4">

                                        <!-- Room item START -->
                                        <div class="card shadow p-3 hidden" th:id="'booked' + ${room.roomId}" th:each="room: ${rooms}">
                                            <div class="row g-4">
                                                <!-- Card img -->
                                                <div class="col-md-5 position-relative d-flex flex-column justify-content-center">

                                                    <!-- Slider START -->
                                                    <div class="tiny-slider arrow-round arrow-xs arrow-dark overflow-hidden rounded-2">
                                                        <div class="tiny-slider-inner" data-autoplay="true" data-arrow="true" data-dots="false" data-items="1">
                                                            <!-- Image item -->
                                                            <div class="text-center" th:each="image: ${room.images}">
                                                                <a>
                                                                    <img style="max-height: 170px;" th:src="${image}" th:alt="${room.title}">
                                                                </a>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!-- Slider END -->
                                                </div>

                                                <!-- Card body -->
                                                <div class="col-md-7">
                                                    <div class="card-body d-flex flex-column h-100 p-0">
                            
                                                        <!-- Title -->
                                                        <h5 class="card-title"><a class="bookedTitle" th:text="${room.title}"></a></h5>

                                                        <ul class="list-group list-group-borderless mb-2 room-description" th:utext="${room.description}"></ul>

                                                        <div class="d-flex justify-content-between align-items-center">
                                                            <div>
                                                                <span><b>Số phòng đặt: </b></span>
                                                                <input class="bookedQuantity" type="number" name="amount" min = "1" th:max="${room.quantity}" value="1" th:onchange="'setQuantity(' + ${room.roomId} + ')'" required>
                                                            </div>                                                            
                                                            <div>
                                                                <span>Còn: </span>
                                                                <b th:class="'fw-bold mb-0 me-1' + ${room.quantity <= 0 ? ' text-danger' : ''}" th:text="${room.quantity}"></b>
                                                            </div>
                                                        </div>                 

                                                        <!-- Price and Button -->
                                                        <div class="d-sm-flex justify-content-sm-between align-items-center mt-2">
                                                            <!-- Button -->
                                                            <div class="d-flex align-items-center">
                                                                <h5 class="fw-bold mb-0 me-1 bookedPrice" th:text="${#numbers.formatDecimal(room.price, 0, 'COMMA', 0, 'POINT')} + '₫'"></h5>
                                                                <span class="mb-0 me-2">/Ngày</span>
                                                            </div>
                                                            <!-- Price -->
                                                            <div class="mt-3 mt-sm-0">
                                                                <a class="btn btn-sm btn-danger mb-0" th:onclick="'less(' + ${room.roomId} + ')'">Xóa</a>    
                                                            </div>                  
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- Room item END -->

                                    </div>
								</div>
							</div>
							<!-- Card END -->

                            <!-- Card START -->
                            <div class="card border mt-4">
                                <!-- Card header -->
                                <div class="card-header border-bottom d-md-flex justify-content-md-between align-items-center" data-bs-toggle="collapse" data-bs-target="#moreContent" style="cursor: pointer;">
                                    <h5 class="card-title mb-0">Chọn Thêm phòng</h5>
                                    <i class="bi bi-chevron-down toggle-arrow"></i>
                                </div>

                                <!-- Card body -->
                                <div class="card-body collapse show" id="moreContent">
                                    <div class="vstack gap-4">

                                        <!-- Room item START -->
                                        <div class="card shadow p-3" th:id="'more' + ${room.roomId}" th:each="room: ${rooms}">
                                            <div class="row g-4">
                                                <!-- Card img -->
                                                <div class="col-md-5 position-relative d-flex flex-column justify-content-center">

                                                    <!-- Slider START -->
                                                    <div class="tiny-slider arrow-round arrow-xs arrow-dark overflow-hidden rounded-2">
                                                        <div class="tiny-slider-inner" data-autoplay="true" data-arrow="true" data-dots="false" data-items="1">
                                                            <!-- Image item -->
                                                            <div class="text-center" th:each="image: ${room.images}">
                                                                <a>
                                                                    <img style="max-height: 170px;" th:src="${image}" th:alt="${room.title}">
                                                                </a>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!-- Slider END -->
                                                </div>

                                                <!-- Card body -->
                                                <div class="col-md-7">
                                                    <div class="card-body d-flex flex-column h-100 p-0">
                            
                                                        <!-- Title -->
                                                        <h5 class="card-title"><a th:text="${room.title}"></a></h5>

                                                        <ul class="list-group list-group-borderless mb-2 room-description" th:utext="${room.description}"></ul>

                                                        <div class="d-flex justify-content-end align-items-center">
                                                            <span>Số lượng: </span>
                                                            <b th:class="'fw-bold mb-0 me-1' + ${room.quantity <= 0 ? ' text-danger' : ''}" th:text="${room.quantity}"></b>
                                                        </div>                 

                                                        <!-- Price and Button -->
                                                        <div class="d-sm-flex justify-content-sm-between align-items-center mt-2">
                                                            <!-- Button -->
                                                            <div class="d-flex align-items-center">
                                                                <h5 class="fw-bold mb-0 me-1" th:text="${#numbers.formatDecimal(room.price, 0, 'COMMA', 0, 'POINT')} + '₫'"></h5>
                                                                <span class="mb-0 me-2">/Ngày</span>
                                                            </div>
                                                            <!-- Price -->
                                                            <div class="mt-3 mt-sm-0">
                                                                <a th:class="'btn btn-sm btn-primary mb-0' + ${room.quantity <= 0 ? ' disabled' : ''}" th:onclick="'booking(' + ${room.roomId} + ')'">Chọn Phòng</a>    
                                                            </div>                  
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- Room item END -->

                                    </div>
                                </div>
                            </div>
						</div>
						<!-- Card body END -->
					</div>
					<!-- Hotel information END -->
				</div>	
			</div>
			<!-- Left side content END -->

			<!-- Right side content START -->
			<aside class="col-xl-4">
                <form action="/booking" method="post">
                    <div class="row g-4">
                        <!-- Price summary START -->
                        <div class="col-md-6 col-xl-12">
                            <div class="card shadow rounded-2">
                                <!-- card header -->
                                <div class="card-header border-bottom">
                                    <h5 class="card-title mb-0">Hóa đơn</h5>
                                    <input type="hidden" name="hotelId" th:value="${hotel.hotelId}" id="hotelId">
                                    <input type="hidden" name="checkIn" th:value="${checkIn}">
                                    <input type="hidden" name="checkOut" th:value="${checkOut}">
                                </div>

                                <!-- Card body -->
                                <div class="card-body">
                                    <ul class="list-group list-group-borderless" id="booking-info"></ul>
                                    <ul class="list-group list-group-borderless">
                                        <li class="list-group-item d-flex justify-content-between align-items-center">
                                            <span class="h6 fw-light mb-0">Tổng tiền</span>
                                            <span class="fs-5"><span id="totalPrice">0</span>₫</span>
                                        </li>                                    
                                        <li class="list-group-item d-flex justify-content-between align-items-center">
                                            <span class="h6 fw-light mb-0">Ưu đãi</span>
                                            <span class="fs-5 text-success">-<span id="totalDiscount">0</span>₫</span>
                                        </li>
                                    </ul>
                                </div>

                                <!-- Card footer -->
                                <div class="card-footer border-top">
                                    <div class="d-flex justify-content-between align-items-center">
                                        <span class="h5 mb-0">Thành tiền</span>
                                        <span class="h5 mb-0"><span id="paidPrice">0</span>₫</span>
                                        <input class="h5 mb-0" type="hidden" name="totalPrice" value="0" id="paidInput"/>

                                        <input type="hidden" name="dateRange" th:value="${dateRange}">
                                        <input type="hidden" name="guests" th:value="${guests}">
                                        <input type="hidden" name="rooms" th:value="${roomQuantity}">
                                    </div>
                                </div>

                                <div class="card-footer border-top">
                                    <div class="d-flex justify-content-end align-items-center">
                                        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                                        <input type="submit" class="btn btn-sm btn-primary mb-0" id="payButton" value="Pay Now" disabled>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Price summary END -->

                        <!-- Offer and discount START -->
                        <div class="col-md-6 col-xl-12">
                            <div class="card shadow">
                                <!-- Card header -->
                                <div class="card-header border-bottom">
                                    <div class="cardt-title">
                                        <h5 class="mb-0">Mã giảm giá</h5>
                                    </div>
                                </div>
                                <!-- Card body -->
                                <div class="card-body">

                                    <!-- Radio -->
                                    <!-- <div class="bg-light rounded-2 p-3">
                                        <div class="form-check form-check-inline mb-0">
                                            <input class="form-check-input" type="radio" name="discountOptions" id="discount1" value="option1" checked>
                                            <label class="form-check-label h5 mb-0" for="discount1">GSTBOOK</label>
                                            <p class="mb-1 small">Congratulations! You have saved $230 with GSTBOOK.</p>
                                            <h6 class="mb-0 text-success">-$230</h6>
                                        </div>
                                    </div> -->

                                    <!-- Input group -->
                                    <div class="input-group mt-3">
                                        <input class="form-control form-control" placeholder="Mã giảm giá">
                                        <button type="button" class="btn btn-primary">Áp dụng</button>
                                    </div>
                                </div>	
                            </div>
                        </div>
                        <!-- Offer and discount END -->
                    </div>
                </form>
			</aside>
			<!-- Right side content END -->
		</div> <!-- Row END -->
	</div>
</section>
<!-- =======================
Page content START -->

</main>
<!-- **************** MAIN CONTENT END **************** -->

<!-- =======================
Footer START -->
<div th:replace="~{common/footer :: footer}"></div>
<!-- =======================
Footer END -->

<!-- Map modal START -->
<div class="modal fade" id="mapmodal" tabindex="-1" aria-labelledby="mapmodalLabel" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered modal-lg">
		<div class="modal-content">
			<!-- Title -->
			<div class="modal-header">
				<h5 class="modal-title" id="mapmodalLabel">Xem vị trí khách sạn</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<!-- Map -->
			<div class="modal-body p-0" id="map" style="height: 400px;border:0;"></div>
			<!-- Button -->
			<div class="modal-footer">
				<a th:href="${map}" target="_blank">
					<button type="button" class="btn btn-sm btn-primary mb-0"><i class="bi fa-fw bi-pin-map-fill me-2"></i>Mở Google Map</button>
				</a>
			</div>
		</div>
	</div>
</div>
<!-- Map modal END -->

<!-- Back to top -->
<div class="back-top"></div>

<!-- Bootstrap JS -->
<script src="/assets/vendor/bootstrap/dist/js/bootstrap.bundle.min.js"></script>

<!-- Vendors -->
<script src="/assets/vendor/tiny-slider/tiny-slider.js"></script>
<script src="/assets/vendor/choices/js/choices.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/somanchiu/Keyless-Google-Maps-API@v7.0/mapsJavaScriptAPI.js" async defer></script>

<script th:inline="javascript">
	var map;

	var lat = /*[[${hotel.latitude}]]*/ 0;
	var lng = /*[[${hotel.longitude}]]*/ 0;

	function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
            center: {lat: lat, lng: lng},
            zoom: 19
        });

        new google.maps.Marker({
			position: {lat: lat, lng: lng},
			map: map,
			icon: {
                url: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png',
                scaledSize: new google.maps.Size(14, 22)
            }
		});
	}
</script>

<!-- ThemeFunctions -->
<script src="/assets/js/functions.js"></script>

</body>

<!-- Mirrored from stackbros.in/bookinga/landing/hotel-booking.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 20 May 2025 16:06:49 GMT -->
</html>