<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">

<head>
  <title>Hamora - Moderator Dashboard</title>

  <!-- Meta Tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="author" content="StackBros">
  <meta name="description" content="Booking - Multipurpose Online Booking Theme">

  <!-- Dark mode -->
  <script>
    const storedTheme = localStorage.getItem('theme')

    const getPreferredTheme = () => {
      if (storedTheme) {
        return storedTheme
      }
      return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light'
    }

    const setTheme = function (theme) {
      if (theme === 'auto' && window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.documentElement.setAttribute('data-bs-theme', 'dark')
      } else {
        document.documentElement.setAttribute('data-bs-theme', theme)
      }
    }

    setTheme(getPreferredTheme())

    window.addEventListener('DOMContentLoaded', () => {
      var el = document.querySelector('.theme-icon-active');
      if(el != 'undefined' && el != null) {
        const showActiveTheme = theme => {
          const activeThemeIcon = document.querySelector('.theme-icon-active use')
          const btnToActive = document.querySelector(`[data-bs-theme-value="${theme}"]`)
          const svgOfActiveBtn = btnToActive.querySelector('.mode-switch use').getAttribute('href')

          document.querySelectorAll('[data-bs-theme-value]').forEach(element => {
            element.classList.remove('active')
          })

          btnToActive.classList.add('active')
          activeThemeIcon.setAttribute('href', svgOfActiveBtn)
        }

        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', () => {
          if (storedTheme !== 'light' || storedTheme !== 'dark') {
            setTheme(getPreferredTheme())
          }
        })

        showActiveTheme(getPreferredTheme())

        document.querySelectorAll('[data-bs-theme-value]')
                .forEach(toggle => {
                  toggle.addEventListener('click', () => {
                    const theme = toggle.getAttribute('data-bs-theme-value')
                    localStorage.setItem('theme', theme)
                    setTheme(theme)
                    showActiveTheme(theme)
                  })
                })

      }
    })

  </script>

  <!-- Favicon -->
  <link rel="shortcut icon" href="@{/assets/images/favicon.ico}">

  <!-- Google Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com/">
  <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&amp;family=Poppins:wght@400;500;700&amp;display=swap">

  <!-- Plugins CSS -->
  <link rel="stylesheet" th:href="@{/assets/vendor/font-awesome/css/all.min.css}">
  <link rel="stylesheet" th:href="@{/assets/vendor/bootstrap-icons/bootstrap-icons.css}">

  <!-- Theme CSS -->
  <link rel="stylesheet" th:href="@{/assets/css/style.css}">

<body>

<!-- **************** MAIN CONTENT START **************** -->
<main>

  <!-- Sidebar START -->
  <div th:replace="~{common-moderator/moderator-slidebar :: moderator_sidebar}"></div>
  <!-- Sidebar END -->

  <!-- Page content START -->
  <div class="page-content">

    <!-- Top bar START -->
    <div th:replace="~{common-admin/admin-topbar :: admin_topbar}"></div>
    <!-- Top bar END -->

    <!-- Page main content START -->
    <div class="page-content-wrapper p-xxl-4">

      <!-- Title -->
      <div class="row">
        <div class="col-12 mb-4">
          <div class="d-sm-flex justify-content-between align-items-center">
            <h1 class="h3 mb-2 mb-sm-0">Moderator Dashboard</h1>
          </div>
        </div>
      </div>

      <!-- List of Accounts START -->
      <div class="row g-4">
        <div class="col-xxl-6">
          <div class="card shadow h-100">
            <div class="card-header d-flex justify-content-between align-items-center">
              <h5 class="card-header-title">Accounts</h5>
              <a href="#" class="btn btn-link p-0">View All</a>
            </div>
            <div class="card-body">
              <ul class="list-group list-group-flush">
                <li class="list-group-item d-flex justify-content-between align-items-center">
                  <span>John Doe</span>
                  <span>Status: <strong>Active</strong></span>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                  <span>Jane Smith</span>
                  <span>Status: <strong>Flagged</strong></span>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                  <span>Michael Lane</span>
                  <span>Status: <strong>Active</strong></span>
                </li>
              </ul>
            </div>
          </div>
        </div>
        <!-- List of Flagged Accounts END -->

        <!-- Listings Waiting Approval START -->
        <div class="col-xxl-6">
          <div class="card shadow h-100">
            <div class="card-header d-flex justify-content-between align-items-center">
              <h5 class="card-header-title">Listings Pending Approval</h5>
              <a href="#" class="btn btn-link p-0">View All</a>
            </div>
            <div class="card-body">
              <ul class="list-group list-group-flush">
                <li class="list-group-item d-flex justify-content-between align-items-center">
                  <span>Luxury Hotel A</span>
                  <a href="#" class="btn btn-sm btn-primary">Approve</a>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                  <span>Apartment B</span>
                  <a href="#" class="btn btn-sm btn-primary">Approve</a>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                  <span>Hostel C</span>
                  <a href="#" class="btn btn-sm btn-primary">Approve</a>
                </li>
              </ul>
            </div>
          </div>
        </div>
        <!-- Listings Waiting Approval END -->
      </div>

      <!-- Charts Section Start -->
      <div class="row g-4 mt-4">
        <div class="col-12">
          <div class="card shadow">
            <div class="card-header d-flex justify-content-between align-items-center">
              <h5 class="card-header-title mb-0">Activity Overview</h5>
            </div>
            <div class="card-body">
              <div id="activityChart" style="height: 300px;"></div>
            </div>
          </div>
        </div>
      </div>
      <!-- Charts Section End -->

    </div>
    <!-- Page main content END -->

  </div>
  <!-- Page content END -->

</main>
<!-- **************** MAIN CONTENT END **************** -->

<!-- Bootstrap JS -->
<script th:src="@{assets/vendor/bootstrap/dist/js/bootstrap.bundle.min.js}"></script>
<!-- ApexChart -->
<script th:src="@{assets/vendor/apexcharts/js/apexcharts.min.js}"></script>
<script>
  // Example chart
  var options = {
    chart: { type: 'line', height: '300px' },
    series: [{
      name: 'Dataset A',
      data: [10, 15, 9, 12, 20]
    }],
    xaxis: { categories: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'] }
  };
  var chart = new ApexCharts(document.getElementById('activityChart'), options);
  chart.render();
</script>
</body>

</html>